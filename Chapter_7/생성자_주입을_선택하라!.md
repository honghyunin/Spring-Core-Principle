# ìƒì„±ìž ì£¼ìž…ì„ ì„ íƒí•˜ë¼!

## TL;DRðŸ˜¡

- ìƒì„±ìž ì£¼ìž… ë°©ì‹ì„ ì„ íƒí•˜ëŠ” ì´ìœ ëŠ” ì—¬ëŸ¬ê°€ì§€ê°€ ìžˆì§€ë§Œ, í”„ë ˆìž„ì›Œí¬ì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ìˆœìˆ˜í•œ ìžë°” ì–¸ì–´ì˜ íŠ¹ì§•ì„ ìž˜ ì‚´ë¦¬ëŠ” ë°©ë²•ì´ê¸°ë„ í•˜ë‹¤.
- ì£¼ë¡œ ìƒì„±ìž ì£¼ìž…ì„ ì‚¬ìš©í•˜ê³ , í•„ìˆ˜ ê°’ì´ ì•„ë‹Œ ê²½ìš°ì—ëŠ” ìˆ˜ì •ìž ì£¼ìž… ë°©ì‹ì„ ì˜µì…˜ìœ¼ë¡œ ë¶€ì—¬í•˜ë©´ ëœë‹¤.
    - ë˜í•œ ìƒì„±ìž ì£¼ìž…ê³¼ ìˆ˜ì •ìž ì£¼ìž…ì„ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.

## ìƒì„±ìž ì£¼ìž…ì„ ê¶Œìž¥í•˜ëŠ” ì´ìœ 

### ë¶ˆë³€

- ëŒ€ë¶€ë¶„ì˜ ì˜ì¡´ê´€ê³„ ì£¼ìž…ì€ í•œ ë²ˆ ì¼ì–´ë‚˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì‹œì ê¹Œì§€ ì˜ì¡´ê´€ê³„ë¥¼ ë³€ê²½ í•  ì¼ì´ ì—†ë‹¤. ì˜¤ížˆë ¤ ëŒ€ë¶€ë¶„ì˜ ì˜ì¡´ê´€ê³„ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì „ê¹Œì§€ ë³€í•˜ë©´ ì•ˆëœë‹¤. (ë¶ˆë³€í•´ì•¼ í•œë‹¤.)
- ìˆ˜ì •ìž ì£¼ìž…ì„ ì‚¬ìš©í•˜ë©´, setXxx ë©”ì„œë“œë¥¼ publicìœ¼ë¡œ ì—´ì–´ë‘ì–´ì•¼ í•œë‹¤.
- ëˆ„êµ°ê°€ ì‹¤ìˆ˜ë¡œ ë³€ê²½í•  ìˆ˜ ìžˆê³ , **ë³€ê²½í•˜ë©´ ì•ˆë˜ëŠ” ë©”ì„œë“œë¥¼ ì—´ì–´ë‘ëŠ” ê²ƒ**ì€ **ì¢‹ì€ ì„¤ê³„ ë°©ë²•ì´ ì•„ë‹ˆë‹¤.**
- ìƒì„±ìž ì£¼ìž…ì€ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ë”± 1ë²ˆë§Œ í˜¸ì¶œë˜ë¯€ë¡œ ì´í›„ì— í˜¸ì¶œë˜ëŠ” ì¼ì´ ì—†ë‹¤. ë”°ë¼ì„œ ë¶ˆë³€í•˜ê²Œ ì„¤ê³„í•  ìˆ˜ ìžˆë‹¤.

### ëˆ„ë½

í”„ë ˆìž„ì›Œí¬ ì—†ì´ ìˆœìˆ˜í•œ ìžë°” ì½”ë“œë¥¼ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í•˜ëŠ” ê²½ìš°ì— ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •ìž ì˜ì¡´ê´€ê³„ì¸ ê²½ìš°

```java
private MemberRepository memberRepository;
private Discountpolicy discountpolicy;

@Autowired
public void setMemberRepository(MemberRepository memberRepository) {
	this.memberRepository = memberRepository;
}

@Autowired
public void setDiscountPolicy(DiscountPolicy discountpolicy) {
	this.discountPolicy = discountPolicy;
} 
```

`@Autowired`ê°€ í”„ë ˆìž„ì›Œí¬ ì•ˆì—ì„œ ë™ìž‘í•  ë•ŒëŠ” ì˜ì¡´ê´€ê³„ê°€ ì—†ìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ë§Œ, 
ìƒì„±ìž ì£¼ìž… ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ í”„ë ˆìž„ì›Œí¬ ì—†ì´ ìˆœìˆ˜í•œ ìžë°” ì½”ë“œë¡œë§Œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìžˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì´ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ë©´ ì‹¤í–‰ì€ ëœë‹¤.

```java
@Test
void createOrder() {
	OrderServiceImpl orderService = new OrderServiceImpl();
	orderService.createOrder(1L, "itemA", 1000);
}
```

ê·¸ëŸ°ë° ë§‰ìƒ ì‹¤í–‰ ê²°ê³¼ëŠ” NPE(Null Point Exception)ì´ ë°œìƒí•˜ëŠ”ë°, memberRepository, discountPolicy ëª¨ë‘ ì˜ì¡´ê´€ê³„ ì£¼ìž…ì´ ëˆ„ë½ë˜ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.

**ìƒì„±ìž ì£¼ìž…ì„ ì‚¬ìš©í•˜ë©´** ë‹¤ìŒì²˜ëŸ¼ **ì£¼ìž… ë°ì´í„°ë¥¼ ëˆ„ë½ í–ˆì„ ë•Œ ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒ**í•œë‹¤.

ê·¸ë¦¬ê³  IDEì—ì„œ ë°”ë¡œ ì–´ë–¤ ê°’ì„ í•„ìˆ˜ë¡œ ì£¼ìž…í•´ì•¼ í•˜ëŠ” ì§€ ì•Œ ìˆ˜ ìžˆë‹¤.

```java
@Test
void creaetOrder() {
	OrderServiceImpl orderService = new OrderServiceImpl();
	orderService.createOrder(1L, "itemA", 10000);
}
```

### final í‚¤ì›Œë“œ

ìƒì„±ìž ì£¼ìž…ì„ ì‚¬ìš©í•˜ë©´ í•„ë“œì— `final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤. ê·¸ëž˜ì„œ ìƒì„±ìžì—ì„œ í˜¹ì‹œë¼ë„ ê°’ ì„¤ì •ì„ ëˆ„ë½í•˜ë”ë¼ë„ ì»´íŒŒì¼ ì‹œì ì— ì˜¤ë¥˜ë¥¼ ë±‰ì–´ì¤€ë‹¤.

```java
private final MemberRepository memberRepository;
private final DiscountPolicy discountPolicy;

@Autowired
public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy 
discountPolicy) {
	 this.memberRepository = memberRepository;
}
```

- ìž˜ ë³´ë©´ í•„ìˆ˜ í•„ë“œì¸ `discountPolicy`ì— ê°’ì„ ì„¤ì •í•´ì•¼ í•˜ëŠ”ë°, ì´ ë¶€ë¶„ì´ ëˆ„ë½ë˜ì—ˆë‹¤. ìžë°”ëŠ” ì»´íŒŒì¼ ì‹œì ì— ë‹¤ìŒ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.
- `java: variable discountPolicy might not have been initialized`

> ìˆ˜ì •ìž ì£¼ìž…ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì£¼ìž… ë°©ì‹ì€ ëª¨ë‘ ìƒì„±ìž ì´í›„ì— í˜¸ì¶œë˜ë¯€ë¡œ, í•„ë“œì— `final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì˜¤ì§ ìƒì„±ìž ì£¼ìž… ë°©ì‹ë§Œ `final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.
> 
